# Applicant_help
[***Applicant_help***](https://t.me/Applicant_helpBot) - простой, но функциональный Telegram бот, призваный упростить жизнь абитуриента. С его помощью можно легко следить за ходом приемной компании.

____

## Features
:triangular_flag_on_post: ***/start*** \
Команда запускает работу бота. Пользователь получает приветственное сообщение и список доступных команд с кратким описанием.

:white_check_mark: ***Добавить СНИЛС*** \
С помощью этой команды можно внести свой номер СНИЛС в базу данных. Бот запрашивает номер, ждет ответа, проверяет корректность внесенных данных и, если данные были внесены верно, заносит номер в базу.

:link: ***Добавить url*** \
Для мониторинга конкурсных списков, необходимо внести в базу ссылки на сайты с соответствующими списками. В дальнейшем это позволит просматривать рейтинг, не заходя на сайт ВУЗА. \
Для того, чтобы внести ссылку в базу, просто используем эту команду и в следующем сообщении отправляем ссылку на страницу со списком.

:computer: ***Просмотр всех ссылок*** \
Программа отправляет запрос в базу данных, копирует все добавленные ссылки и выводит их в виде упорядоченного списка на экран пользователя. Если в базе не окажется ни одной ссылки, бот уведомит об этом.

:page_facing_up: ***Посмотреть список*** \
Бот принимает на вход порядковый номер списка, просматривает данные с соответствующей страницы и отправляет эти данные пользователю. Если пользователь ввел некорректный номер, бот отправляет сообщение об этом.

:round_pushpin: ***Проверить позицию*** \
Бот получает на вход номер списка, в котором необходимо проверить позицию. Программа просматривает каждую строку списка, если находит соответствие, возвращает позицию. В противном случае пользователю приходит сообщение о том, что запись с указанным номером СНИЛС не найдена.

:mag: ***Поиск по номеру*** \
Бот запрашивает номер списка и порядковый номер в списке. Если в списке было найдено соответствие, пользователю возвращается информация. Если соответствие не было найдено, возвращается сообщение об ошибке

___

## Files
+ ***accountant.db*** - файл с базой данных. Содержит две таблицы: users и records. Первая таблица содержит информацию о пользователях и позволяет персонализировать ответы бота. Вторая таблица позволяет сохранить все ссылки, добавленные пользователем.
+ ***db.py*** - файл содержит функции для работы с базой данных. \
  Функционал:
  + init - конструктор, инициализирует соединение с БД
  + user_exists - проверяет, есть ли пользователь в базе
  + get_user_id - возвращает id пользователя из базы данных
  + get_snils - возвращает СНИЛС пользователя из базы данных
  + add_snils - добавляет СНИЛС пользователя в базу
  + add_user - добавляет нового пользователя в базу
  + add_record - добавляет новую запись с ссылкой на список в БД
  + get_records - возвращает список всех добавленных ссылок из БД
  + count_of_records - подсчитывает количество добавленных ссылок
+ ***part_with_parser.py*** - файл содержит единственную функцию, которая принимает ссылку на сайт с конкурсным списком, и возвращает список записей.
+ ***tg_bot.py*** - основной файл, реализующий функционал бота. В файле описаны все команды, доступные пользователю

___
## Dependencies
- [X] ***pyTelegramBotAPI*** - хорошая и лёгкая библиотека для создания бота на python для Telegram. \
  Команда для установки: `pip install pyTelegramBotAPI`

- [X] ***BeautifulSoup4*** - библиотека Python для извлечения данных из файлов HTML и XML.
  Команда для установки: `pip install BeautifulSoup4`

- [X] ***sqlite3*** - это консольная утилита для работы с SQLite от разработчиков СУБД.
  Команда для установки: `pip install sqlite3`
